-module(bigset_test).

-compile(export_all).

test() ->
    {ok, A} = bigset_proto:start_link(a),
    {ok, B} = bigset_proto:start_link(b),
    {ok, RepA} = bigset_proto:insert(A, <<"set1">>, <<"russell">>),
    ok = bigset_proto:store_replica(B, <<"set1">>, RepA),
    Res = bigset_proto:get(B, <<"set1">>),
    {ok, RepA2} = bigset_proto:insert(A, <<"set1">>, <<"bob">>),
    {ok, RepA3} = bigset_proto:insert(A, <<"set1">>, <<"sally">>),
    ok = bigset_proto:store_replica(B, <<"set1">>, RepA2).
